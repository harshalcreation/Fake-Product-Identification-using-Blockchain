<!doctype html>
<html lang="en">
  <head>
  	<title>Fake Product Identification</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/style.css">
	<style>
		body {
			font-family: 'Poppins', sans-serif;
			background-color: #f8f9fa;
			color: #333;
		 }
		 .navbar {
			background-color: #5a67d8;
		 }
		 .navbar-brand {
		   font-size: 1.5rem;
		   font-weight: bold;
		   color: #f3efef !important;
		   position: relative;
		   top: 10px; /* Moves text slightly downward */
		 }
		 .navbar-nav .nav-link {
			color: #f8f3f3 !important;
		 }
		 .hero-section {
			text-align: center;
			padding: 60px 20px;
			background: #fdfcfc;
			border-radius: 10px;
			box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
			animation: fadeIn 1.5s ease-in-out;
		 }
		 .content-section {
			display: flex;
			flex-wrap: wrap;
			justify-content: space-around;
			padding: 50px;
			gap: 20px;
		 }
		 .content-box {
		   flex: 1 1 calc(33.333% - 20px);
		   padding: 20px;
		   background: #edeced;
		   box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
		   border-radius: 10px;
		   transition: transform 0.3s ease;
		   text-align: center;
		   min-width: 280px;
		 }
		 @media (max-width: 992px) {
		   .content-box {
			  flex: 1 1 calc(50% - 20px);
		   }
		}
		
		@media (max-width: 600px) {
		   .content-box {
			  flex: 1 1 100%;
		   }
		}
		 .content-box:hover {
			transform: scale(1.05);
		 }
		 .social-icons {
			display: flex;
			justify-content: center;
			margin-top: 20px;
		 }
		 .social-icons a {
			margin: 0 10px;
			color: #5a67d8;
			font-size: 24px;
			transition: transform 0.3s ease;
		 }
		 .social-icons a:hover {
			transform: scale(1.2);
		 }
		 @keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		 }
   
   /* Adjust Navbar Position */
   .navbar-nav {
	   margin-left: -60px; /* Moves navbar slightly left */
   }
   /* Styling Nav Links */
   .navbar-nav .nav-item .nav-link {
	   font-weight: bold;
	   font-size: 1rem;
	   padding: 10px 15px; /* Adds padding for button effect */
	   position: relative;
	   transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
	   text-transform: uppercase;
   }
   /* Hover Effect - Color Change & Slight Lift */
   .navbar-nav .nav-item .nav-link:hover {
	   color: #ffcc00; /* Highlight color */
	   transform: translateY(-3px); /* Lifts button slightly */
   }
   /* Underline Animation */
   .navbar-nav .nav-item .nav-link::after {
	   content: "";
	   position: absolute;
	   left: 0;
	   bottom: -4px;
	   width: 100%;
	   height: 3px;
	   background: #ffcc00;
	   transform: scaleX(0);
	   transition: transform 0.3s ease-in-out;
   }
   .navbar-nav .nav-item .nav-link:hover::after {
	   transform: scaleX(1);
   }
   /* Active Link Effect */
   .navbar-nav .nav-item .nav-link.active {
	   color: #ffcc00;
   }
   /* Responsive Fix */
   @media (max-width: 768px) {
	   .navbar-nav {
		   margin-left: 0;
	   }
   }
	   
	  </style>
	 </head>
	 <body>
	  <nav class="navbar navbar-expand-lg">
		 <div class="container-fluid">
			<a class="navbar-brand" href="index.html">Fake Product Identification<span style="font-weight: bold;">through Blockchain</span></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav">
			   <span class="fa fa-bars"></span>
			</button>
			<div class="collapse navbar-collapse" id="ftco-nav">
			   <ul class="navbar-nav m-auto">
				<li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="sellProductSeller.html" class="nav-link">Sell Product To Consumer</a></li>
                <li class="nav-item"><a href="queryProducts.html" class="nav-link">Products For sale</a></li></ul>
			</div>
		 </div>
	  </nav>
    <!-- END nav -->

	</section>
    <section>
        <div class="container">
            <h2>Sell Product to Consumer</h2>

			<section>
				<div class="container-fluid">
					<center>
						<div id="qr-reader" style="width:300px"></div>
						<div id="qr-reader-results"></div>
					</center>
				</div>
			</section>

			<div>
				<table width="100%">
					<tr width="100%">
						<td width="15%" align="center">
						<br><label for="productSN">Product SN:</label>
						</td>
						<td width = "30%">
						<input disabled class="form-control" id="productSN" name="productSN" type="text" />
						</td>
						<td width="15" align="center">
						<label for="consumerCode">Consumer Code</label>
						</td>
						<td width = "30%" >
						<input class="form-control" id="consumerCode" name="consumerCode" type="text" />
						</td>
					</tr>
						
				</table>
			  </div>
			  <div class="clear">&nbsp;</div>
			  <div align="center">
              
              <button type="submit" class="btn btn-warning btn-register" id="register">Sell to Consumer</button>
          </div>
		</div>
    </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/web3.min.js"></script>
  <script src="js/truffle-contract.js"></script>
  <script src="js/sellProductSeller.js"></script>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <script>
	var decodedText = "Enter Product SN";
    function docReady(fn) {
        // see if DOM is already available
        if (document.readyState === "complete"
            || document.readyState === "interactive") {
            // call on next available tick
            setTimeout(fn, 1);
        } else {
            document.addEventListener("DOMContentLoaded", fn);
        }
    }

    docReady(function () {
        var resultContainer = document.getElementById('qr-reader-results');
        var lastResult, countResults = 0;
        function onScanSuccess(decodedText, decodedResult) {
            if (decodedText !== lastResult) {
                ++countResults;
                lastResult = decodedText;
                // Handle on success condition with the decoded message.
                var audio = new Audio('beep.wav');
                audio.play();
                // console.log(`Scan result ${decodedText}`, decodedResult);
                document.getElementById('qr-reader-results').innerHTML=decodedText;
				document.getElementById("productSN").value = decodedText;
				//App.init(decodedText);
                
            }
        }

        var html5QrcodeScanner = new Html5QrcodeScanner(
            "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);
    });
  </script>
  </body>
</html>